#!/bin/bash

CMD="${1,,}"
RAW_ARGS="${@:2}"
ARGS=("$RAW_ARGS")
ARG=${ARGS[0]}

function notEmpty() {
    if [[ -z "$1" ]]; then
        echo "$2"
        exit 1
    fi
}

case "$CMD" in
    # Git commands
    "gl") git log --all --oneline --graph --decorate ;;
    "gs") git status;;
    "gc")
        notEmpty "$ARG" "Commit message cannot be empty"
        git commit -m "$ARG";;
    "gb")
        notEmpty "$ARG" "Branch name needed"
        git show-ref --verify --quiet "refs/heads/$ARG"
        if [[ $? == 0 ]]; then
            git checkout "$ARG"
        else
            git checkout -b "$ARG"
        fi
        ;;
    "gbl") git branch;;

    *) printf "%s command not defined\n" $CMD;;
esac
